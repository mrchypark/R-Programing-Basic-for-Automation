<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <title>업무 자동화를 위한 R 더하기</title>
    <meta charset="utf-8" />
    <meta name="author" content="박찬엽" />
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/remark-css/ninjutsu.css" rel="stylesheet" />
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-6863685415691881",
        enable_page_level_ads: true
      });
    </script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-47822682-14"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments)};
      gtag('js', new Date());
      gtag('config', 'UA-47822682-14');
    </script>
    <link rel="stylesheet" href="custom.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">

layout: true

background-image: url(https://user-images.githubusercontent.com/6179259/60290723-50002480-9954-11e9-96fe-3fbd4d7d11d9.png)
background-size: cover



---

class: center, middle, title-slide

## 업무자동화를 위한 R 더하기

### &lt;https://mrchypark.github.io/R-Programing-Basic-for-Automation/&gt;

#### [[의견 및 오류 신고]](https://github.com/mrchypark/R-Programing-Basic-for-Automation/issues)

### 박찬엽

### .small[2019년 6월 28일]

---

## 목차

1. 패키지 설치 방법 2 [remotes][remotes]
    - 특정 패키지의 함수를 지정 `::`
1. 데이터의 form 변환 [tidyr][tidyr]
1. 연장을 더 챙겨드림 1 [janitor][janitor]
1. 글자를 자유롭게 다루는 [stringr][stringr]
    - 글자 패턴 [rverbalexpressions][rverbalexpressions]
1. 날짜시간 자료형 [lubridate][lubridate]
1. 프로그래밍 흐름 처리 if, for
1. 예쁜 표 만들기 [gt][gt]
    - 신호등 만들기 [fontawesome][fontawesome]
1. 연장을 더 챙겨드림 2 [crosstalk][crosstalk] 

---
## 패키지 설치 방법 2 [remotes][remotes]

`remotes` 패키지는 `cran`이 아닌 곳에서 제공하는 패키지를 설치하는 함수를 제공


```r
## 패키지 설치 방법 1
install.packages("remotes")

## 패키지내 함수를 사용하기 위해 불러옴
library(remotes)

## 패키지 설치 방법 2
install_github("https://github.com/rstudio/fontawesome")
install_github("https://github.com/rstudio/gt")
```

---

## 패키지 설치 방법 2 [remotes][remotes]

패키지를 제공하는 가장 유명한 장소 [github][github]

![](https://user-images.githubusercontent.com/6179259/60295474-c013a800-995e-11e9-8827-f13d356ec04a.png)

---

## 패키지 설치 방법 2 [remotes][remotes]

패키지의 github 주소를 바로 사용하면 설치 진행


```r
install_github("https://github.com/rstudio/gt")
```

![](https://user-images.githubusercontent.com/6179259/60295635-24366c00-995f-11e9-9211-22c69ba240a3.png)

---

## 패키지 설치 방법 2 [remotes][remotes]

대부분 설명서에 설치하는 함수를 안내함.

![](https://user-images.githubusercontent.com/6179259/60295733-68c20780-995f-11e9-8a38-b5cb06e16fb9.png)

---

## 특정 패키지의 함수를 지정 `::`

`패키지이름::함수이름()` 으로 작성하면 어느 패키지의 함수인지 알 수 있음.


```r
install_github("https://github.com/rstudio/gt")
remotes::install_github("https://github.com/rstudio/gt")
```

---

## 특정 패키지의 함수를 지정 `::`

dplyr 패키지의 경우 많은 함수 이름이 다른 패키지와 겹침 


```r
library(dplyr)
```

```
#&gt; 다음의 패키지를 부착합니다: ‘dplyr’
#&gt; 
#&gt; The following objects are masked from ‘package:stats’:
#&gt; 
#&gt;     filter, lag
#&gt; 
#&gt; The following object is masked from ‘package:testthat’:
#&gt; 
#&gt;     matches
#&gt; 
#&gt; The following objects are masked from ‘package:base’:
#&gt; 
#&gt;     intersect, setdiff, setequal, union
```
---

## 특정 패키지의 함수를 지정 `::`

혹시 `filter()` 함수가 문제가 생기면, 아래 처럼 해보세요.


```r
## dplyr 내의 모든 함수를 바로 사용하기 위해서 불러옴
library(dplyr)

## library로 패키지를 불러왔기 때문에
## 패키지내의 함수를 바로 사용할 수 있음
filter()

## 같은 이름을 가진 함수들이 있을 때는
## 이렇게 특정 패키지내의 함수를 사용하라고 작성할 수 있음
dplyr::filter()
```

---

## 데이터의 form 변환 [tidyr][tidyr]


```r
install.packages("tidyr")
```

`gather()` 함수와 `spread()` 함수를 제공    

&lt;img src=https://user-images.githubusercontent.com/6179259/60299141-fa814300-9966-11e9-9f9f-d0f2bae656dc.png width=100%&gt;

---
.pull-left[
### wide form
1. 사람이 눈으로 보기 좋은 모양
1. 2개 변수에 대한 값만 확인 가능
1. dashboard 형이라고도 하며 조인 등 연산이 어려움
]
.pull-right[
### long form
1. 컴퓨터가 계산하기 좋은 모양
1. tidy data의 요건을 충족
1. ggplot2 등 패키지 대부분의 입력 형태
]

![](https://user-images.githubusercontent.com/6179259/60298919-8181eb80-9966-11e9-944f-49231169f2bc.png)

---

## wide to long

gather() 함수는 미래의 key 이름과 value 이름을 받아서 wide form 데이터를 long form으로 바꿈

![](https://user-images.githubusercontent.com/6179259/60299951-dde60a80-9968-11e9-80e3-1a6a14e91412.png)

---

## wide to long

예시 데이터 만들기


```r
library(dplyr)

juniors_untidy &lt;- tribble(
  ~ "baker", ~"cinnamon_1", ~"cardamom_2", ~"nutmeg_3",
  "Emma", 1L,   0L, 1L,
  "Harry", 1L,   1L, 1L,
  "Ruby", 1L,   0L, 1L,
  "Zainab", 0L, NA, 0L
)
juniors_untidy
```

```
## # A tibble: 4 x 4
##   baker  cinnamon_1 cardamom_2 nutmeg_3
##   &lt;chr&gt;       &lt;int&gt;      &lt;int&gt;    &lt;int&gt;
## 1 Emma            1          0        1
## 2 Harry           1          1        1
## 3 Ruby            1          0        1
## 4 Zainab          0         NA        0
```

---

## wide to long

key 컬럼 이름과 value 컬럼 이름을 정하고, long으로 바꿀 wide한 부분의 컬럼을 선택


```r
juniors_untidy %&gt;% 
  gather(key = "spice",      # key  이름은 spice 로 하겠음
         value = "correct",  # value 이름은 correct로 하겠음
         cinnamon_1:nutmeg_3)# 이 컬럼들을 사용하겠음
```

```
## # A tibble: 12 x 3
##    baker  spice      correct
##    &lt;chr&gt;  &lt;chr&gt;        &lt;int&gt;
##  1 Emma   cinnamon_1       1
##  2 Harry  cinnamon_1       1
##  3 Ruby   cinnamon_1       1
##  4 Zainab cinnamon_1       0
##  5 Emma   cardamom_2       0
##  6 Harry  cardamom_2       1
##  7 Ruby   cardamom_2       0
##  8 Zainab cardamom_2      NA
##  9 Emma   nutmeg_3         1
## 10 Harry  nutmeg_3         1
## 11 Ruby   nutmeg_3         1
## 12 Zainab nutmeg_3         0
```
---
## wide to long

![](https://github.com/apreshill/teachthat/blob/master/gather/gather.gif?raw=true)

---

## 실습용 패키지 설치

실습을 위해 사용할 [tqk][tqk] 패키지는 한국 주식 데이터를 가져옵니다.


```r
## remotes 패키지가 없다면 설치해주세요.
install.packages("remotes")
remotes::install_github("mrchypark/tqk")
```

---

## [tqk][tqk] 패키지 사용법


```r
library(tqk)
library(dplyr)
library(stringr)

# 주식종목 코드를 가져옵니다.
code_get() %&gt;% 
  # 그 중에 현대자동차를 찾습니다.
  filter(str_detect(name, "현대자동차")) %&gt;% 
  # code 만 선택합니다.
  select(code) %&gt;% 
  # code에 해당하는 주식의 데이터를 가져옵니다.
  # 날짜의 범위를 지정할 수 있습니다.
  tqk_get(from = "2019-01-01", to = "2019-02-28") %&gt;% 
  # 데이터에 현대자동차 주식이라는 것을 추가합니다.
  mutate(comp = "현대자동차") -&gt; 
  hdcm
hdcm
```

---

## [tqk][tqk] 패키지 사용법


```
## # A tibble: 244 x 8
##    date         open   high    low  close volume adjusted comp      
##    &lt;date&gt;      &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;int&gt;    &lt;dbl&gt; &lt;chr&gt;     
##  1 2018-01-02 150500 153000 149000 149500 731763   149500 현대자동차
##  2 2018-01-03 149000 151000 149000 150500 450874   150500 현대자동차
##  3 2018-01-04 150500 151000 146000 146500 931558   146500 현대자동차
##  4 2018-01-05 146000 149000 145500 149000 463695   149000 현대자동차
##  5 2018-01-08 148500 151000 147500 151000 482619   151000 현대자동차
##  6 2018-01-09 151000 152500 149500 152500 465845   152500 현대자동차
##  7 2018-01-10 152500 158000 152000 155500 793679   155500 현대자동차
##  8 2018-01-11 156000 156500 152500 155000 476891   155000 현대자동차
##  9 2018-01-12 153500 156000 153500 154000 424738   154000 현대자동차
## 10 2018-01-15 154000 155000 151000 155000 315592   155000 현대자동차
## # ... with 234 more rows
```

---

## 연습문제 

- 앞서 만든 `hdcm` 데이터는 long form 인가요 wide form 인가요?

- `hdcm` 데이터를 `gather()` 함수를 이용해서 아래와 같이 long form 으로 바꾸어 보세요.


```
## # A tibble: 1,464 x 4
##    date       comp       type   price
##    &lt;date&gt;     &lt;chr&gt;      &lt;chr&gt;  &lt;dbl&gt;
##  1 2018-01-02 현대자동차 open  150500
##  2 2018-01-03 현대자동차 open  149000
##  3 2018-01-04 현대자동차 open  150500
##  4 2018-01-05 현대자동차 open  146000
##  5 2018-01-08 현대자동차 open  148500
##  6 2018-01-09 현대자동차 open  151000
##  7 2018-01-10 현대자동차 open  152500
##  8 2018-01-11 현대자동차 open  156000
##  9 2018-01-12 현대자동차 open  153500
## 10 2018-01-15 현대자동차 open  154000
## # ... with 1,454 more rows
```

---

## 연습문제 

- 앞서 long form 으로 바꾼 데이터를 `hdcm_long`에 assign 하세요.
- `hdcm_long` 에서 `type` 이 "volume"인 것은 제외해주세요.

---

## long to wide

spead() 함수는 wide form 데이터에서 key column과 value column을 받아서  long form으로 바꿈

![](https://user-images.githubusercontent.com/6179259/60301034-5c43ac00-996b-11e9-95e8-cb2468192f24.png)

---

## long to wide

예시 데이터 만들기
.pull-left[

```r
library(dplyr)

juniors_about &lt;- tribble(
  ~ "baker", ~"age",
  ~"outcome",~"spices",
  "Emma", 11L, "finalist", 2L, 
  "Harry", 10L, "winner", 3L, 
  "Ruby", 11L, "finalist", 2L, 
  "Zainab", 10L, "finalist", 0L
) %&gt;% 
  gather(key = "var_name",
         value = "var_value",
         -baker)
```
]
.pull-right[

```
## # A tibble: 12 x 3
##    baker  var_name var_value
##    &lt;chr&gt;  &lt;chr&gt;    &lt;chr&gt;    
##  1 Emma   age      11       
##  2 Harry  age      10       
##  3 Ruby   age      11       
##  4 Zainab age      10       
##  5 Emma   outcome  finalist 
##  6 Harry  outcome  winner   
##  7 Ruby   outcome  finalist 
##  8 Zainab outcome  finalist 
##  9 Emma   spices   2        
## 10 Harry  spices   3        
## 11 Ruby   spices   2        
## 12 Zainab spices   0
```
]
---

## long to wide

key 컬럼 이름과 value 컬럼 이름을 정하고, long으로 바꿀 wide한 부분의 컬럼을 선택


```r
juniors_about %&gt;% 
  spread(var_name, var_value)
```

```
## # A tibble: 4 x 4
##   baker  age   outcome  spices
##   &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt; 
## 1 Emma   11    finalist 2     
## 2 Harry  10    winner   3     
## 3 Ruby   11    finalist 2     
## 4 Zainab 10    finalist 0
```

---
## long to wide

![](https://github.com/apreshill/teachthat/blob/master/spread/spread.gif?raw=true)

---

## 연습문제 

`hdcm_md` 데이터를 아래 코드로 만들어 주세요.
.pull-left[

```r
library(lubridate)
hdcm %&gt;% 
  mutate(
    month = month(date),
    day = day(date)
  ) %&gt;% 
  select(
    comp, 
    month, 
    day, 
    close
  ) %&gt;% 
  group_by(month) %&gt;% 
  summarise(
    comp = "현대자동차",
    mclose = mean(close)
    )-&gt;
  hdcm_md
```
]
.pull-right[

```
## # A tibble: 12 x 3
##    month comp        mclose
##    &lt;dbl&gt; &lt;chr&gt;        &lt;dbl&gt;
##  1     1 현대자동차 155205.
##  2     2 현대자동차 157889.
##  3     3 현대자동차 152833.
##  4     4 현대자동차 155500 
##  5     5 현대자동차 148475 
##  6     6 현대자동차 134079.
##  7     7 현대자동차 125523.
##  8     8 현대자동차 125273.
##  9     9 현대자동차 129118.
## 10    10 현대자동차 116643.
## 11    11 현대자동차 102155.
## 12    12 현대자동차 115895.
```
]

---

## 연습문제 

1. `hdcm_md` 데이터를 아래와 같이 월 컬럼을 만들어 주세요.


```
## # A tibble: 1 x 13
##   comp     `1`    `2`    `3`    `4`    `5`    `6`    `7`    `8`    `9`
##   &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
## 1 현대자동~ 1.55e5 1.58e5 1.53e5 155500 148475 1.34e5 1.26e5 1.25e5 1.29e5
## # ... with 3 more variables: `10` &lt;dbl&gt;, `11` &lt;dbl&gt;, `12` &lt;dbl&gt;
```

---

## 연장을 더 챙겨드림 1 [janitor][janitor]

![](https://user-images.githubusercontent.com/6179259/60302194-32d84f80-996e-11e9-8909-5482332b7f14.png)

---

## 글자를 자유롭게 다루는 [stringr][stringr]


```r
install.packages("stringr")
```

![](https://user-images.githubusercontent.com/6179259/60305497-a7fc5280-9977-11e9-823e-4afb4605d6f8.png)

---

## 필요없는 공백 제거


```r
library(stringr)
str_squish(" 안녕  하세요 \r\n\t") 
```

```
## [1] "안녕 하세요"
```

---

## 실습 데이터 설치


```r
remotes::install_github("mrchypark/krwifi")
```

```r
library(krwifi)
wifi
```

```
## # A tibble: 21,473 x 17
##    설치장소명 설치장소상세 설치시도명 설치시군구명 설치시설구분
##    &lt;chr&gt;      &lt;chr&gt;        &lt;chr&gt;      &lt;chr&gt;        &lt;chr&gt;       
##  1 청송군청   민원실       경상북도   청송군       관공서      
##  2 청송군농업기술센터~ "\"1층, 2층, ~ 경상북도   청송군       관공서      
##  3 청송읍사무소~ 민원실       경상북도   청송군       관공서      
##  4 부동면사무소~ 민원실       경상북도   청송군       관공서      
##  5 부남면사무소~ 민원실       경상북도   청송군       관공서      
##  6 현동면사무소~ 민원실       경상북도   청송군       관공서      
##  7 현서면사무소~ 민원실       경상북도   청송군       관공서      
##  8 안덕면사무소~ 민원실       경상북도   청송군       관공서      
##  9 파천면사무소~ 민원실       경상북도   청송군       관공서      
## 10 진보면사무소~ 민원실       경상북도   청송군       관공서      
## # ... with 21,463 more rows, and 12 more variables: 서비스제공사명 &lt;chr&gt;,
## #   와이파이SSID &lt;chr&gt;, 설치년월 &lt;chr&gt;, 소재지도로명주소 &lt;chr&gt;,
## #   소재지지번주소 &lt;chr&gt;, 관리기관명 &lt;chr&gt;, 관리기관전화번호 &lt;chr&gt;,
## #   위도 &lt;chr&gt;, 경도 &lt;chr&gt;, 데이터기준일자 &lt;chr&gt;, 제공기관코드 &lt;chr&gt;,
## #   제공기관명 &lt;chr&gt;
```

---

## mutate() 함수와 함께 사용하기


```r
wifi %&gt;% 
  distinct(소재지도로명주소) %&gt;% 
  slice(1:10) %&gt;% 
  mutate(len = str_length(소재지도로명주소),
         gun_count = str_count(소재지도로명주소, "군")) 
```

```
## # A tibble: 10 x 3
##    소재지도로명주소                                     len gun_count
##    &lt;chr&gt;                                              &lt;int&gt;     &lt;int&gt;
##  1 경상북도 청송군 청송읍 군청로 51(월막리 330)          28         2
##  2 경상북도 청송군 청송읍 주왕산로 177(송생리 720)       30         1
##  3 경상북도 청송군 청송읍 중앙로 253(월막리 239-2)       31         1
##  4 경상북도 청송군 부동면 이전앞길 1(이전리 829-5)       30         1
##  5 경상북도 청송군 부남면 대전로 119(대전리 638-2)       31         1
##  6 경상북도 청송군 현동면 청송로 2647(도평리 794-1)      32         1
##  7 경상북도 청송군 현서면 구산동로 27(구산리 97-1)       30         1
##  8 경상북도 청송군 안덕면 안덕로 82(명당리 433-6)        30         1
##  9 경상북도 청송군 파천면 청송로 5544(관리 572-1)        31         1
## 10 경상북도 청송군 진보면 진안동2길 4-10(진안리 51-1)    33         1
```

---

## mutate() 함수와 함께 사용하기


```r
wifi %&gt;% 
  distinct(설치시군구명) %&gt;% 
  slice(1:10) %&gt;% 
  mutate(repla = str_replace(설치시군구명, "군", "도로시"),
         extra = str_extract(설치시군구명, "주시"))
```

```
## # A tibble: 10 x 3
##    설치시군구명 repla      extra
##    &lt;chr&gt;        &lt;chr&gt;      &lt;chr&gt;
##  1 청송군       청송도로시 &lt;NA&gt; 
##  2 영동군       영동도로시 &lt;NA&gt; 
##  3 목포시       목포시     &lt;NA&gt; 
##  4 청주시       청주시     주시 
##  5 함안군       함안도로시 &lt;NA&gt; 
##  6 의령군       의령도로시 &lt;NA&gt; 
##  7 나주시       나주시     주시 
##  8 금천구       금천구     &lt;NA&gt; 
##  9 중구         중구       &lt;NA&gt; 
## 10 청양군       청양도로시 &lt;NA&gt;
```

---

## mutate() 함수와 함께 사용하기


```r
wifi %&gt;% 
  distinct(설치시군구명) %&gt;% 
  slice(1:10) %&gt;% 
  mutate(
    start = str_locate(설치시군구명, "구|군")[,1],
    end = str_locate(설치시군구명, "구|군")[,2]
  )
```

```
## # A tibble: 10 x 3
##    설치시군구명 start   end
##    &lt;chr&gt;        &lt;int&gt; &lt;int&gt;
##  1 청송군           3     3
##  2 영동군           3     3
##  3 목포시          NA    NA
##  4 청주시          NA    NA
##  5 함안군           3     3
##  6 의령군           3     3
##  7 나주시          NA    NA
##  8 금천구           3     3
##  9 중구             2     2
## 10 청양군           3     3
```

---

## mutate() 함수와 함께 사용하기


```r
wifi %&gt;% 
  distinct(설치시군구명) %&gt;% 
  slice(1:10) %&gt;%
  mutate(remove = str_remove(설치시군구명, "구|군|시"),
         if_remove = if_else( str_length(설치시군구명) == 2,
                    설치시군구명, str_remove(설치시군구명, "구|군|시")))
```

```
## # A tibble: 10 x 3
##    설치시군구명 remove if_remove
##    &lt;chr&gt;        &lt;chr&gt;  &lt;chr&gt;    
##  1 청송군       청송   청송     
##  2 영동군       영동   영동     
##  3 목포시       목포   목포     
##  4 청주시       청주   청주     
##  5 함안군       함안   함안     
##  6 의령군       의령   의령     
##  7 나주시       나주   나주     
##  8 금천구       금천   금천     
##  9 중구         중     중구     
## 10 청양군       청양   청양
```

---

## filter()함수와 함께 사용하기


```r
wifi %&gt;% 
  filter(str_detect(소재지도로명주소, "군"))
```

```
## # A tibble: 3,866 x 17
##    설치장소명 설치장소상세 설치시도명 설치시군구명 설치시설구분
##    &lt;chr&gt;      &lt;chr&gt;        &lt;chr&gt;      &lt;chr&gt;        &lt;chr&gt;       
##  1 청송군청   민원실       경상북도   청송군       관공서      
##  2 청송군농업기술센터~ "\"1층, 2층, ~ 경상북도   청송군       관공서      
##  3 청송읍사무소~ 민원실       경상북도   청송군       관공서      
##  4 부동면사무소~ 민원실       경상북도   청송군       관공서      
##  5 부남면사무소~ 민원실       경상북도   청송군       관공서      
##  6 현동면사무소~ 민원실       경상북도   청송군       관공서      
##  7 현서면사무소~ 민원실       경상북도   청송군       관공서      
##  8 안덕면사무소~ 민원실       경상북도   청송군       관공서      
##  9 파천면사무소~ 민원실       경상북도   청송군       관공서      
## 10 진보면사무소~ 민원실       경상북도   청송군       관공서      
## # ... with 3,856 more rows, and 12 more variables: 서비스제공사명 &lt;chr&gt;,
## #   와이파이SSID &lt;chr&gt;, 설치년월 &lt;chr&gt;, 소재지도로명주소 &lt;chr&gt;,
## #   소재지지번주소 &lt;chr&gt;, 관리기관명 &lt;chr&gt;, 관리기관전화번호 &lt;chr&gt;,
## #   위도 &lt;chr&gt;, 경도 &lt;chr&gt;, 데이터기준일자 &lt;chr&gt;, 제공기관코드 &lt;chr&gt;,
## #   제공기관명 &lt;chr&gt;
```

---

## filter()함수와 함께 사용하기


```r
wifi %&gt;% 
  filter(str_starts(설치장소상세 , "민원")) %&gt;% 
  distinct(설치장소상세)
```

```
## # A tibble: 74 x 1
##    설치장소상세         
##    &lt;chr&gt;                
##  1 민원실               
##  2 민원실 에어컨 위     
##  3 민원실 책상 상단 벽면
##  4 민원 대기실          
##  5 민원실 등            
##  6 민원실(실내)         
##  7 민원실내             
##  8 민원실 및 휴게실 내  
##  9 민원방문실           
## 10 민원청사 2층         
## # ... with 64 more rows
```

---

## filter()함수와 함께 사용하기


```r
wifi %&gt;% 
  filter(str_starts(설치장소상세 , "민원")) %&gt;% 
  count(설치장소상세, sort = T)
```

```
## # A tibble: 74 x 2
##    설치장소상세                                  n
##    &lt;chr&gt;                                     &lt;int&gt;
##  1 민원실                                     2636
##  2 민원방문실                                   66
##  3 민원실 내부                                  19
##  4 민원실(실내)                                 16
##  5 민원실(1층)                                  15
##  6 민원대앞                                     12
##  7 민원실+2층 복도(갤러리쉼터,전산교육장 등)    10
##  8 민원실내                                      9
##  9 민원 대기실                                   4
## 10 민원실 천장                                   4
## # ... with 64 more rows
```

---

## 정규표현식이란

글자를 규칙이나 패턴으로 표현하는 문법 규칙의 일종

R에서 사용할 때는 `\` 의 사용이 조금 달라서 바로 사용하기 매우 어려움

```
/^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.
[a-zA-Z]{2,3}$
```

참고자료 : &lt;http://www.nextree.co.kr/p4327/&gt;

---

## 글자 패턴 [rverbalexpressions][rverbalexpressions]

정규표현식을 함수로 제공

![](https://user-images.githubusercontent.com/6179259/60304627-f6f4b880-9974-11e9-8494-24ccc2cd8f38.png)

---

## 날짜시간 자료형 [lubridate][lubridate]


```r
install.packages("lubridate")
```

![](https://user-images.githubusercontent.com/6179259/60305891-25749280-9979-11e9-81e4-25c9c3d8f805.png)

---

## 글자를 날짜시간 자료형으로

---

## 날짜시간 자료형에서 필요한 데이터 얻기

---

## 시간 자료형 [hms][hms]


```r
install.packages("hms")
```

![](https://user-images.githubusercontent.com/6179259/60306118-fb6fa000-9979-11e9-8591-76e242e9288f.png)


---

## 프로그래밍 흐름 처리 .small[(if, for)]


---

## 예쁜 표 만들기 [gt][gt]

![](https://user-images.githubusercontent.com/6179259/60302611-35877480-996f-11e9-823c-f04b5e30fe05.png)

---

## 예쁜 표 만들기 [gt][gt]

`gt()`를 이용해 출력 이후 `%&gt;%` 로 연결해서 출력물 설정을 추가


```r
library(gt)
iris %&gt;% 
  head() %&gt;% 
  gt()
```

<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#azuqxadfjv .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #000000;
  font-size: 16px;
  background-color: #FFFFFF;
  /* table.background.color */
  width: auto;
  /* table.width */
  border-top-style: solid;
  /* table.border.top.style */
  border-top-width: 2px;
  /* table.border.top.width */
  border-top-color: #A8A8A8;
  /* table.border.top.color */
}

#azuqxadfjv .gt_heading {
  background-color: #FFFFFF;
  /* heading.background.color */
  border-bottom-color: #FFFFFF;
}

#azuqxadfjv .gt_title {
  color: #000000;
  font-size: 125%;
  /* heading.title.font.size */
  padding-top: 4px;
  /* heading.top.padding */
  padding-bottom: 1px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#azuqxadfjv .gt_subtitle {
  color: #000000;
  font-size: 85%;
  /* heading.subtitle.font.size */
  padding-top: 1px;
  padding-bottom: 4px;
  /* heading.bottom.padding */
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#azuqxadfjv .gt_bottom_border {
  border-bottom-style: solid;
  /* heading.border.bottom.style */
  border-bottom-width: 2px;
  /* heading.border.bottom.width */
  border-bottom-color: #A8A8A8;
  /* heading.border.bottom.color */
}

#azuqxadfjv .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  padding-top: 4px;
  padding-bottom: 4px;
}

#azuqxadfjv .gt_col_heading {
  color: #000000;
  background-color: #FFFFFF;
  /* column_labels.background.color */
  font-size: 16px;
  /* column_labels.font.size */
  font-weight: initial;
  /* column_labels.font.weight */
  vertical-align: middle;
  padding: 10px;
  margin: 10px;
}

#azuqxadfjv .gt_sep_right {
  border-right: 5px solid #FFFFFF;
}

#azuqxadfjv .gt_group_heading {
  padding: 8px;
  color: #000000;
  background-color: #FFFFFF;
  /* row_group.background.color */
  font-size: 16px;
  /* row_group.font.size */
  font-weight: initial;
  /* row_group.font.weight */
  border-top-style: solid;
  /* row_group.border.top.style */
  border-top-width: 2px;
  /* row_group.border.top.width */
  border-top-color: #A8A8A8;
  /* row_group.border.top.color */
  border-bottom-style: solid;
  /* row_group.border.bottom.style */
  border-bottom-width: 2px;
  /* row_group.border.bottom.width */
  border-bottom-color: #A8A8A8;
  /* row_group.border.bottom.color */
  vertical-align: middle;
}

#azuqxadfjv .gt_empty_group_heading {
  padding: 0.5px;
  color: #000000;
  background-color: #FFFFFF;
  /* row_group.background.color */
  font-size: 16px;
  /* row_group.font.size */
  font-weight: initial;
  /* row_group.font.weight */
  border-top-style: solid;
  /* row_group.border.top.style */
  border-top-width: 2px;
  /* row_group.border.top.width */
  border-top-color: #A8A8A8;
  /* row_group.border.top.color */
  border-bottom-style: solid;
  /* row_group.border.bottom.style */
  border-bottom-width: 2px;
  /* row_group.border.bottom.width */
  border-bottom-color: #A8A8A8;
  /* row_group.border.bottom.color */
  vertical-align: middle;
}

#azuqxadfjv .gt_striped {
  background-color: #f2f2f2;
}

#azuqxadfjv .gt_from_md > :first-child {
  margin-top: 0;
}

#azuqxadfjv .gt_from_md > :last-child {
  margin-bottom: 0;
}

#azuqxadfjv .gt_row {
  padding: 8px;
  /* row.padding */
  margin: 10px;
  vertical-align: middle;
}

#azuqxadfjv .gt_stub {
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #A8A8A8;
  padding-left: 12px;
}

#azuqxadfjv .gt_summary_row {
  color: #000000;
  background-color: #FFFFFF;
  /* summary_row.background.color */
  padding: 8px;
  /* summary_row.padding */
  text-transform: inherit;
  /* summary_row.text_transform */
}

#azuqxadfjv .gt_grand_summary_row {
  color: #000000;
  background-color: #FFFFFF;
  /* grand_summary_row.background.color */
  padding: 8px;
  /* grand_summary_row.padding */
  text-transform: inherit;
  /* grand_summary_row.text_transform */
}

#azuqxadfjv .gt_first_summary_row {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
}

#azuqxadfjv .gt_first_grand_summary_row {
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #A8A8A8;
}

#azuqxadfjv .gt_table_body {
  border-top-style: solid;
  /* table_body.border.top.style */
  border-top-width: 2px;
  /* table_body.border.top.width */
  border-top-color: #A8A8A8;
  /* table_body.border.top.color */
  border-bottom-style: solid;
  /* table_body.border.bottom.style */
  border-bottom-width: 2px;
  /* table_body.border.bottom.width */
  border-bottom-color: #A8A8A8;
  /* table_body.border.bottom.color */
}

#azuqxadfjv .gt_footnote {
  font-size: 90%;
  /* footnote.font.size */
  padding: 4px;
  /* footnote.padding */
}

#azuqxadfjv .gt_sourcenote {
  font-size: 90%;
  /* sourcenote.font.size */
  padding: 4px;
  /* sourcenote.padding */
}

#azuqxadfjv .gt_center {
  text-align: center;
}

#azuqxadfjv .gt_left {
  text-align: left;
}

#azuqxadfjv .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#azuqxadfjv .gt_font_normal {
  font-weight: normal;
}

#azuqxadfjv .gt_font_bold {
  font-weight: bold;
}

#azuqxadfjv .gt_font_italic {
  font-style: italic;
}

#azuqxadfjv .gt_super {
  font-size: 65%;
}

#azuqxadfjv .gt_footnote_glyph {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="azuqxadfjv" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><!--gt table start-->
<table class='gt_table'>
<tr>
<th class='gt_col_heading gt_right' rowspan='1' colspan='1'>Sepal.Length</th>
<th class='gt_col_heading gt_right' rowspan='1' colspan='1'>Sepal.Width</th>
<th class='gt_col_heading gt_right' rowspan='1' colspan='1'>Petal.Length</th>
<th class='gt_col_heading gt_right' rowspan='1' colspan='1'>Petal.Width</th>
<th class='gt_col_heading gt_center' rowspan='1' colspan='1'>Species</th>
</tr>
<tbody class='gt_table_body'>
<tr>
<td class='gt_row gt_right'>5.1</td>
<td class='gt_row gt_right'>3.5</td>
<td class='gt_row gt_right'>1.4</td>
<td class='gt_row gt_right'>0.2</td>
<td class='gt_row gt_center'>setosa</td>
</tr>
<tr>
<td class='gt_row gt_right gt_striped'>4.9</td>
<td class='gt_row gt_right gt_striped'>3.0</td>
<td class='gt_row gt_right gt_striped'>1.4</td>
<td class='gt_row gt_right gt_striped'>0.2</td>
<td class='gt_row gt_center gt_striped'>setosa</td>
</tr>
<tr>
<td class='gt_row gt_right'>4.7</td>
<td class='gt_row gt_right'>3.2</td>
<td class='gt_row gt_right'>1.3</td>
<td class='gt_row gt_right'>0.2</td>
<td class='gt_row gt_center'>setosa</td>
</tr>
<tr>
<td class='gt_row gt_right gt_striped'>4.6</td>
<td class='gt_row gt_right gt_striped'>3.1</td>
<td class='gt_row gt_right gt_striped'>1.5</td>
<td class='gt_row gt_right gt_striped'>0.2</td>
<td class='gt_row gt_center gt_striped'>setosa</td>
</tr>
<tr>
<td class='gt_row gt_right'>5.0</td>
<td class='gt_row gt_right'>3.6</td>
<td class='gt_row gt_right'>1.4</td>
<td class='gt_row gt_right'>0.2</td>
<td class='gt_row gt_center'>setosa</td>
</tr>
<tr>
<td class='gt_row gt_right gt_striped'>5.4</td>
<td class='gt_row gt_right gt_striped'>3.9</td>
<td class='gt_row gt_right gt_striped'>1.7</td>
<td class='gt_row gt_right gt_striped'>0.4</td>
<td class='gt_row gt_center gt_striped'>setosa</td>
</tr>
</tbody>
</table>
<!--gt table end-->
</div>

---

## 신호등 만들기 

[fontawesome][fontawesome] 패키지는 이모티콘을 사용할 수 있게 해줌
 
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#tpavruqvbw .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #000000;
  font-size: 16px;
  background-color: #FFFFFF;
  /* table.background.color */
  width: auto;
  /* table.width */
  border-top-style: solid;
  /* table.border.top.style */
  border-top-width: 2px;
  /* table.border.top.width */
  border-top-color: #A8A8A8;
  /* table.border.top.color */
}

#tpavruqvbw .gt_heading {
  background-color: #FFFFFF;
  /* heading.background.color */
  border-bottom-color: #FFFFFF;
}

#tpavruqvbw .gt_title {
  color: #000000;
  font-size: 125%;
  /* heading.title.font.size */
  padding-top: 4px;
  /* heading.top.padding */
  padding-bottom: 1px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#tpavruqvbw .gt_subtitle {
  color: #000000;
  font-size: 85%;
  /* heading.subtitle.font.size */
  padding-top: 1px;
  padding-bottom: 4px;
  /* heading.bottom.padding */
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#tpavruqvbw .gt_bottom_border {
  border-bottom-style: solid;
  /* heading.border.bottom.style */
  border-bottom-width: 2px;
  /* heading.border.bottom.width */
  border-bottom-color: #A8A8A8;
  /* heading.border.bottom.color */
}

#tpavruqvbw .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  padding-top: 4px;
  padding-bottom: 4px;
}

#tpavruqvbw .gt_col_heading {
  color: #000000;
  background-color: #FFFFFF;
  /* column_labels.background.color */
  font-size: 16px;
  /* column_labels.font.size */
  font-weight: initial;
  /* column_labels.font.weight */
  vertical-align: middle;
  padding: 10px;
  margin: 10px;
}

#tpavruqvbw .gt_sep_right {
  border-right: 5px solid #FFFFFF;
}

#tpavruqvbw .gt_group_heading {
  padding: 8px;
  color: #000000;
  background-color: #FFFFFF;
  /* row_group.background.color */
  font-size: 16px;
  /* row_group.font.size */
  font-weight: initial;
  /* row_group.font.weight */
  border-top-style: solid;
  /* row_group.border.top.style */
  border-top-width: 2px;
  /* row_group.border.top.width */
  border-top-color: #A8A8A8;
  /* row_group.border.top.color */
  border-bottom-style: solid;
  /* row_group.border.bottom.style */
  border-bottom-width: 2px;
  /* row_group.border.bottom.width */
  border-bottom-color: #A8A8A8;
  /* row_group.border.bottom.color */
  vertical-align: middle;
}

#tpavruqvbw .gt_empty_group_heading {
  padding: 0.5px;
  color: #000000;
  background-color: #FFFFFF;
  /* row_group.background.color */
  font-size: 16px;
  /* row_group.font.size */
  font-weight: initial;
  /* row_group.font.weight */
  border-top-style: solid;
  /* row_group.border.top.style */
  border-top-width: 2px;
  /* row_group.border.top.width */
  border-top-color: #A8A8A8;
  /* row_group.border.top.color */
  border-bottom-style: solid;
  /* row_group.border.bottom.style */
  border-bottom-width: 2px;
  /* row_group.border.bottom.width */
  border-bottom-color: #A8A8A8;
  /* row_group.border.bottom.color */
  vertical-align: middle;
}

#tpavruqvbw .gt_striped {
  background-color: #f2f2f2;
}

#tpavruqvbw .gt_from_md > :first-child {
  margin-top: 0;
}

#tpavruqvbw .gt_from_md > :last-child {
  margin-bottom: 0;
}

#tpavruqvbw .gt_row {
  padding: 8px;
  /* row.padding */
  margin: 10px;
  vertical-align: middle;
}

#tpavruqvbw .gt_stub {
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #A8A8A8;
  padding-left: 12px;
}

#tpavruqvbw .gt_summary_row {
  color: #000000;
  background-color: #FFFFFF;
  /* summary_row.background.color */
  padding: 8px;
  /* summary_row.padding */
  text-transform: inherit;
  /* summary_row.text_transform */
}

#tpavruqvbw .gt_grand_summary_row {
  color: #000000;
  background-color: #FFFFFF;
  /* grand_summary_row.background.color */
  padding: 8px;
  /* grand_summary_row.padding */
  text-transform: inherit;
  /* grand_summary_row.text_transform */
}

#tpavruqvbw .gt_first_summary_row {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
}

#tpavruqvbw .gt_first_grand_summary_row {
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #A8A8A8;
}

#tpavruqvbw .gt_table_body {
  border-top-style: solid;
  /* table_body.border.top.style */
  border-top-width: 2px;
  /* table_body.border.top.width */
  border-top-color: #A8A8A8;
  /* table_body.border.top.color */
  border-bottom-style: solid;
  /* table_body.border.bottom.style */
  border-bottom-width: 2px;
  /* table_body.border.bottom.width */
  border-bottom-color: #A8A8A8;
  /* table_body.border.bottom.color */
}

#tpavruqvbw .gt_footnote {
  font-size: 90%;
  /* footnote.font.size */
  padding: 4px;
  /* footnote.padding */
}

#tpavruqvbw .gt_sourcenote {
  font-size: 90%;
  /* sourcenote.font.size */
  padding: 4px;
  /* sourcenote.padding */
}

#tpavruqvbw .gt_center {
  text-align: center;
}

#tpavruqvbw .gt_left {
  text-align: left;
}

#tpavruqvbw .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#tpavruqvbw .gt_font_normal {
  font-weight: normal;
}

#tpavruqvbw .gt_font_bold {
  font-weight: bold;
}

#tpavruqvbw .gt_font_italic {
  font-style: italic;
}

#tpavruqvbw .gt_super {
  font-size: 65%;
}

#tpavruqvbw .gt_footnote_glyph {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="tpavruqvbw" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><!--gt table start-->
<table class='gt_table'>
<tr>
<th class='gt_col_heading gt_right' rowspan='1' colspan='1'>Sepal.Length</th>
<th class='gt_col_heading gt_right' rowspan='1' colspan='1'>Sepal.Width</th>
<th class='gt_col_heading gt_right' rowspan='1' colspan='1'>Petal.Length</th>
<th class='gt_col_heading gt_right' rowspan='1' colspan='1'>Petal.Width</th>
<th class='gt_col_heading gt_center' rowspan='1' colspan='1'>Species</th>
</tr>
<tbody class='gt_table_body'>
<tr>
<td class='gt_row gt_right'>5.1 <svg style="height:0.8em;top:.04em;position:relative;fill:green;" viewBox="0 0 512 512"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"/></svg></td>
<td class='gt_row gt_right'>3.5</td>
<td class='gt_row gt_right'>1.4</td>
<td class='gt_row gt_right'>0.2</td>
<td class='gt_row gt_center'>setosa</td>
</tr>
<tr>
<td class='gt_row gt_right gt_striped'>4.9 <svg style="height:0.8em;top:.04em;position:relative;fill:red;" viewBox="0 0 512 512"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"/></svg></td>
<td class='gt_row gt_right gt_striped'>3.0</td>
<td class='gt_row gt_right gt_striped'>1.4</td>
<td class='gt_row gt_right gt_striped'>0.2</td>
<td class='gt_row gt_center gt_striped'>setosa</td>
</tr>
<tr>
<td class='gt_row gt_right'>4.7 <svg style="height:0.8em;top:.04em;position:relative;fill:red;" viewBox="0 0 512 512"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"/></svg></td>
<td class='gt_row gt_right'>3.2</td>
<td class='gt_row gt_right'>1.3</td>
<td class='gt_row gt_right'>0.2</td>
<td class='gt_row gt_center'>setosa</td>
</tr>
<tr>
<td class='gt_row gt_right gt_striped'>4.6 <svg style="height:0.8em;top:.04em;position:relative;fill:red;" viewBox="0 0 512 512"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"/></svg></td>
<td class='gt_row gt_right gt_striped'>3.1</td>
<td class='gt_row gt_right gt_striped'>1.5</td>
<td class='gt_row gt_right gt_striped'>0.2</td>
<td class='gt_row gt_center gt_striped'>setosa</td>
</tr>
<tr>
<td class='gt_row gt_right'>5.0 <svg style="height:0.8em;top:.04em;position:relative;fill:yellow;" viewBox="0 0 512 512"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"/></svg></td>
<td class='gt_row gt_right'>3.6</td>
<td class='gt_row gt_right'>1.4</td>
<td class='gt_row gt_right'>0.2</td>
<td class='gt_row gt_center'>setosa</td>
</tr>
<tr>
<td class='gt_row gt_right gt_striped'>5.4 <svg style="height:0.8em;top:.04em;position:relative;fill:green;" viewBox="0 0 512 512"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"/></svg></td>
<td class='gt_row gt_right gt_striped'>3.9</td>
<td class='gt_row gt_right gt_striped'>1.7</td>
<td class='gt_row gt_right gt_striped'>0.4</td>
<td class='gt_row gt_center gt_striped'>setosa</td>
</tr>
<tr>
<td class='gt_row gt_right'>4.6 <svg style="height:0.8em;top:.04em;position:relative;fill:red;" viewBox="0 0 512 512"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"/></svg></td>
<td class='gt_row gt_right'>3.4</td>
<td class='gt_row gt_right'>1.4</td>
<td class='gt_row gt_right'>0.3</td>
<td class='gt_row gt_center'>setosa</td>
</tr>
<tr>
<td class='gt_row gt_right gt_striped'>5.0 <svg style="height:0.8em;top:.04em;position:relative;fill:yellow;" viewBox="0 0 512 512"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"/></svg></td>
<td class='gt_row gt_right gt_striped'>3.4</td>
<td class='gt_row gt_right gt_striped'>1.5</td>
<td class='gt_row gt_right gt_striped'>0.2</td>
<td class='gt_row gt_center gt_striped'>setosa</td>
</tr>
<tr>
<td class='gt_row gt_right'>4.4 <svg style="height:0.8em;top:.04em;position:relative;fill:red;" viewBox="0 0 512 512"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"/></svg></td>
<td class='gt_row gt_right'>2.9</td>
<td class='gt_row gt_right'>1.4</td>
<td class='gt_row gt_right'>0.2</td>
<td class='gt_row gt_center'>setosa</td>
</tr>
</tbody>
</table>
<!--gt table end-->
</div>

---

## [fontawesome][fontawesome] 패키지 설치


```r
remotes::install_github("rstudio/fontawesome")
```

## 사용법

[fontawesome 사이트][fontawesome 사이트] 에서 아이콘 이름을 찾는다.
[css 색][css 색]으로 채울 색을 지정한다. HEX도 사용가능. 이름의 대소문자를 구분하지 않음.


```r
fa("r-project", fill = "SteelBlue")
```

```
## [1] "&lt;svg style=\"height:0.8em;top:.04em;position:relative;fill:SteelBlue;\" viewBox=\"0 0 581 512\"&gt;&lt;path d=\"M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z\"/&gt;&lt;/svg&gt;"
```

```r
fa("r-project", fill = "#4682B4")
```

```
## [1] "&lt;svg style=\"height:0.8em;top:.04em;position:relative;fill:#4682B4;\" viewBox=\"0 0 581 512\"&gt;&lt;path d=\"M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z\"/&gt;&lt;/svg&gt;"
```

---

## 함수 만들기

`function()`로 만듬    
`()` 괄호에는 입력으로 받을 값을 대표 이름을 작성함     
`{}` 중괄호에는 괄호로 받은 대표 이름을 사용해서 코드를 작성하여 결과를 만듬    
`return()` 함수는 `{}` 중괄호 안에서 최종 함수의 결과를 결정함 하나의 객체만 가능    
`return()` 함수는 생략할 수 있음

.pull-left[

```r
plus &lt;- function(a, b){
  tem &lt;- a + b
  return(tem)
}
plus(3, 5)
```

```
## [1] 8
```
]
.pull-right[

```r
plus_min &lt;- function(a, b){
  tem &lt;- a + b
  tem
}
plus_min(3, 5)
```

```
## [1] 8
```
```
]
---

## 신호등 만들기


```r
library(stringr)
library(gt)
library(fontawesome)
tr_light_green &lt;- function(x) str_c(x, fa("circle", fill="green")
tr_light_red &lt;- function(x) str_c(x, fa("circle", fill="red")
tr_light_yellow &lt;- function(x) str_c(x, fa("circle", fill="yellow")
iris %&gt;% head(10) %&gt;% gt() %&gt;% 
  text_transform(
    locations = cells_data(
      columns = "Sepal.Length", rows = Sepal.Length &gt; 5),
    fn = tr_light_green )
  ) %&gt;% 
  text_transform(
    locations = cells_data(
      columns = "Sepal.Length", rows = Sepal.Length &lt; 5),
    fn = tr_light_red)
  ) %&gt;% 
  text_transform(
    locations = cells_data(
      columns = "Sepal.Length", rows = Sepal.Length == 5),
    fn = tr_light_yellow)
  )
```

---

## 연장을 더 챙겨드림 2 [crosstalk][crosstalk]

![](https://user-images.githubusercontent.com/6179259/60302256-661ade80-996e-11e9-85f3-fff17311b310.png)

---

class: center, middle, title-slide

## 감사합니다.


[gt]: https://gt.rstudio.com/
[lubridate]: https://lubridate.tidyverse.org/index.html
[tidyr]: https://tidyr.tidyverse.org/
[stringr]: https://stringr.tidyverse.org/
[rverbalexpressions]: https://rverbalexpressions.netlify.com/index.html
[janitor]: http://sfirke.github.io/janitor/
[crosstalk]: https://rstudio.github.io/crosstalk/using.html
[remotes]: https://remotes.r-lib.org/
[fontawesome]: https://github.com/rstudio/fontawesome
[github]: https://github.com/
[tqk]: https://mrchypark.github.io/tqk/
[fontawesome 사이트]: https://fontawesome.com/
[css 색]: https://www.w3schools.com/cssref/css_colors.asp
[hms]: https://hms.tidyverse.org/
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "4:3"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();</script>

<script>
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
